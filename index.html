<!DOCTYPE html>
<html>
<head>
    <script>
        async function handleRequest(request) {
            const params = new URL(request.url).searchParams;
            const assetId = params.get('id');
            
            if (!assetId) {
                return new Response('Missing asset ID', { status: 400 });
            }

            try {
                // Forward to Cloudflare worker
                const workerUrl = `https://roblox-decal-to-image-convert.aarontheluanerd.workers.dev/?id=${assetId}`;
                const response = await fetch(workerUrl);
                
                // Return the response with CORS headers
                const headers = new Headers(response.headers);
                headers.set('Access-Control-Allow-Origin', '*');
                
                return new Response(response.body, {
                    status: response.status,
                    headers: headers
                });
            } catch (error) {
                return new Response(`Proxy error: ${error.message}`, { status: 500 });
            }
        }

        self.addEventListener('fetch', event => {
            if (event.request.method === 'GET') {
                event.respondWith(handleRequest(event.request));
            }
        });
    </script>
</head>
<body>
    <h1>Roblox Decal Proxy</h1>
    <p>This page acts as a proxy between Roblox and Cloudflare Workers.</p>
    <p>If you're trying to use this site to convert decal IDs to image IDs, here's a guide on how to do so: (in readme.md)</p>
    <url>https://github.com/aarontheluanerd/roblox-decal-to-image</url>
</body>
</html>